(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{18:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(4),r=c.n(a),i=c(3),l=c.n(i),o=c(5),d=c(6),j=c(7),m=c(11),h=c(8),u=c(0),b="bf2ab7434f1583f2e87f12808e45b585",x="Vancouver, CA",p="metric",O="imperial",f="C",N="m/s",v="F",g="mph",w=s.a.createContext(),y=function(e){Object(m.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(d.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={cityId:"",cityFullName:"",temperatureUnit:"",windSpeedUnit:"",currentWeather:[],oneCall:[],alerts:!1,loading:!0,refetchAPI:function(t,c){e.showWeather(t,c)}},e.showWeather=Object(o.a)(l.a.mark((function t(){var c,n,s,a,r,i,o,d,j,m,h,u,w=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=w.length>0&&void 0!==w[0]?w[0]:x,n=w.length>1&&void 0!==w[1]?w[1]:p,t.prev=2,t.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(c,"&units=").concat(n,"&appid=").concat(b));case 5:if(200===(s=t.sent).status){t.next=12;break}if(404!==s.status){t.next=11;break}throw Error("City not found. To make search more precise put the city's name, comma, 2-letter country code (ISO3166).");case 11:throw Error("Oops, something went wrong! (".concat(s.status,": ").concat(s.statusText,")"));case 12:return a=n===p?f:n===O?v:"",r=n===p?N:n===O?g:"",t.next=16,s.json();case 16:return i=t.sent,o="".concat(i.name,", ").concat(i.sys.country),d=i.coord.lon,j=i.coord.lat,t.next=22,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(j,"&lon=").concat(d,"&exclude=minutely,hourly&units=").concat(n,"&appid=").concat(b));case 22:if(200===(m=t.sent).status){t.next=25;break}throw Error("".concat(m.status,": ").concat(m.statusText));case 25:return t.next=27,m.json();case 27:(h=t.sent).daily.splice(5),u=!1,"alerts"in h&&(u=!0),e.setState({cityId:c,cityFullName:o,temperatureUnit:a,windSpeedUnit:r,currentWeather:i,oneCall:h,alerts:u,loading:!1}),t.next=37;break;case 34:t.prev=34,t.t0=t.catch(2),alert(t.t0.message);case 37:case"end":return t.stop()}}),t,null,[[2,34]])}))),e}return Object(j.a)(c,[{key:"componentDidMount",value:function(){this.showWeather()}},{key:"render",value:function(){return Object(u.jsx)(w.Provider,{value:this.state,children:this.props.children})}}]),c}(s.a.Component),C=w.Consumer,k=c(9),S=c(10),_=function(){var e=Object(n.useState)("metric"),t=Object(k.a)(e,2),c=t[0],s=t[1];return Object(u.jsx)(C,{children:function(e){return Object(u.jsx)("header",{children:Object(u.jsx)("nav",{className:"navbar navbar-light terciary-bg-color",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("a",{href:"/",className:"navbar-brand",children:"The Weather App"}),Object(u.jsx)("form",{className:"d-flex form-search",onSubmit:function(t){return function(e,t){e.preventDefault(),t(e.target.txtSearch.value,c)}(t,e.refetchAPI)},children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsxs)("div",{className:"form-floating",children:[Object(u.jsx)("input",{id:"txt-search",name:"txtSearch",type:"text",className:"form-control form-control-sm",placeholder:"search for location","aria-label":"search","aria-describedby":"",defaultValue:e.cityId}),Object(u.jsx)("label",{htmlFor:"txt-search",children:"search for location"})]}),Object(u.jsx)("button",{id:"btn-search",className:"btn btn-outline-secondary btn-sm",type:"button",children:Object(u.jsx)(S.a,{})})]})}),Object(u.jsx)("form",{className:"d-flex form-metric",children:Object(u.jsxs)("div",{className:"form-floating",children:[Object(u.jsxs)("select",{defaultValue:c,id:"sel-metric",className:"form-select form-select-sm","aria-label":"",onChange:function(t){return function(e,t,c){var n=e.target.value;t(c,n),s(n)}(t,e.refetchAPI,e.cityId)},children:[Object(u.jsx)("option",{value:"metric",children:"\xb0C, m/s"}),Object(u.jsx)("option",{value:"imperial",children:"\xb0F, mph"})]}),Object(u.jsx)("label",{htmlFor:"sel-metric",children:"select metric"})]})})]})})})}})},W=function(e){return Object(u.jsx)("div",{className:"row",children:e.sidebar?Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"column-container",children:Object(u.jsx)("img",{src:e.image,alt:""})})}):Object(u.jsx)("div",{className:"col-12 text-center",children:Object(u.jsx)("img",{src:e.image,alt:""})})})},M=function(){return Object(u.jsx)(C,{children:function(e){return Object(u.jsx)("div",{className:"col-12 main-column",children:e.loading?"":Object(u.jsxs)("div",{className:"column-container",children:[Object(u.jsxs)("div",{className:"column-title",children:[Object(u.jsxs)("h2",{children:[e.currentWeather.name,", ",e.currentWeather.sys.country]}),Object(u.jsx)("p",{className:"date-time",children:new Date(1e3*e.currentWeather.dt).toLocaleString("en-us",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),Object(u.jsxs)("div",{className:"column-content",children:[Object(u.jsxs)("div",{className:"column-content-text",children:[Object(u.jsxs)("p",{className:"temperature",children:[Math.round(e.currentWeather.main.temp),"\xb0",e.temperatureUnit]}),Object(u.jsx)("p",{className:"description",children:e.currentWeather.weather[0].description})]}),Object(u.jsxs)("div",{className:"column-content-image",children:[Object(u.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.currentWeather.weather[0].icon,"@2x.png"),alt:e.currentWeather.weather[0].description}),Object(u.jsxs)("p",{className:"temp-min-max text-center",children:[Math.round(e.currentWeather.main.temp_min)," / ",Math.round(e.currentWeather.main.temp_max),"\xb0",e.temperatureUnit]})]})]})]})})}})},U=function(){return Object(u.jsx)(C,{children:function(e){return Object(u.jsx)("div",{className:"col-12 detail-column",children:e.loading?"":Object(u.jsxs)("div",{className:"column-container",children:[Object(u.jsx)("div",{className:"column-title",children:Object(u.jsxs)("h2",{children:["Weather today in ",e.cityFullName]})}),Object(u.jsxs)("div",{className:"column-content",children:[Object(u.jsxs)("div",{className:"column-content-text-period",children:[Object(u.jsxs)("div",{className:"period-item text-center",children:[Object(u.jsx)("p",{className:"fw-bold",children:"Morning"}),Object(u.jsxs)("p",{className:"temperature",children:[Math.round(e.oneCall.daily[0].temp.morn),"\xb0",e.temperatureUnit]}),Object(u.jsxs)("p",{className:"feels-like",children:["(feels like ",Math.round(e.oneCall.daily[0].feels_like.morn),"\xb0",e.temperatureUnit,")"]})]}),Object(u.jsxs)("div",{className:"period-item text-center",children:[Object(u.jsx)("p",{className:"fw-bold",children:"Afternoon"}),Object(u.jsxs)("p",{className:"temperature",children:[Math.round(e.oneCall.daily[0].temp.day),"\xb0",e.temperatureUnit]}),Object(u.jsxs)("p",{className:"feels-like",children:["(feels like ",Math.round(e.oneCall.daily[0].feels_like.day),"\xb0",e.temperatureUnit,")"]})]}),Object(u.jsxs)("div",{className:"period-item text-center",children:[Object(u.jsx)("p",{className:"fw-bold",children:"Evening"}),Object(u.jsxs)("p",{className:"temperature",children:[Math.round(e.oneCall.daily[0].temp.eve),"\xb0",e.temperatureUnit]}),Object(u.jsxs)("p",{className:"feels-like",children:["(feels like ",Math.round(e.oneCall.daily[0].feels_like.eve),"\xb0",e.temperatureUnit,")"]})]}),Object(u.jsxs)("div",{className:"period-item text-center",children:[Object(u.jsx)("p",{className:"fw-bold",children:"Night"}),Object(u.jsxs)("p",{className:"temperature",children:[Math.round(e.oneCall.daily[0].temp.night),"\xb0",e.temperatureUnit]}),Object(u.jsxs)("p",{className:"feels-like",children:["(feels like ",Math.round(e.oneCall.daily[0].feels_like.night),"\xb0",e.temperatureUnit,")"]})]})]}),Object(u.jsxs)("div",{className:"column-content-text-detail",children:[Object(u.jsxs)("p",{className:"detail-item",children:[Object(u.jsx)("span",{className:"fw-bold",children:"wind"}),Object(u.jsxs)("span",{children:[" ",e.oneCall.current.wind_speed," ",e.windSpeedUnit]})]}),Object(u.jsxs)("p",{className:"detail-item",children:[Object(u.jsx)("span",{className:"fw-bold",children:"pressure"}),Object(u.jsxs)("span",{children:[" ",e.oneCall.current.pressure," hPa"]})]}),Object(u.jsxs)("p",{className:"detail-item",children:[Object(u.jsx)("span",{className:"fw-bold",children:"humidity"}),Object(u.jsxs)("span",{children:[" ",e.oneCall.current.humidity,"%"]})]}),Object(u.jsxs)("p",{className:"detail-item",children:[Object(u.jsx)("span",{className:"fw-bold",children:"uv"}),Object(u.jsxs)("span",{children:[" ",Math.round(e.oneCall.current.uvi)]})]}),Object(u.jsxs)("p",{className:"detail-item",children:[Object(u.jsx)("span",{className:"fw-bold",children:"sunrise"}),Object(u.jsxs)("span",{children:[" ",new Date(1e3*e.oneCall.current.sunrise).toLocaleString("en-us",{hour:"2-digit",minute:"2-digit"})]})]}),Object(u.jsxs)("p",{className:"detail-item",children:[Object(u.jsx)("span",{className:"fw-bold",children:"sunset"}),Object(u.jsxs)("span",{children:[" ",new Date(1e3*e.oneCall.current.sunset).toLocaleString("en-us",{hour:"2-digit",minute:"2-digit"})]})]})]})]})]})})}})},D=function(){return Object(u.jsx)(C,{children:function(e){return Object(u.jsx)("div",{className:"col-12 daily-column",children:e.loading?"":Object(u.jsxs)("div",{className:"column-container",children:[Object(u.jsx)("div",{className:"column-title",children:Object(u.jsx)("h2",{children:"Daily forecast"})}),Object(u.jsx)("div",{className:"column-content",children:Object(u.jsx)("div",{className:"column-content-text-forecast",children:e.oneCall.daily.map((function(t,c){return Object(u.jsxs)("div",{className:"forecast-item text-center",children:[Object(u.jsx)("p",{className:"fw-bold",children:0!==c?new Date(1e3*t.dt).toLocaleDateString("en-us",{weekday:"short"})+" "+new Date(1e3*t.dt).toLocaleDateString("en-us",{day:"2-digit"}):"Today"}),Object(u.jsxs)("p",{className:"temperature",children:[Math.round(t.temp.max)," / ",Math.round(t.temp.min),"\xb0",e.temperatureUnit]}),Object(u.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:t.weather[0].description}),Object(u.jsx)("p",{className:"description",children:t.weather[0].description})]},c)}))})})]})})}})},F=function(){return Object(u.jsx)(C,{children:function(e){return Object(u.jsx)("div",{className:"col-12 alert-column",children:e.loading?"":e.alerts?Object(u.jsxs)("div",{className:"column-container",children:[Object(u.jsx)("div",{className:"column-title",children:Object(u.jsx)("h2",{children:e.oneCall.alerts[0].event})}),Object(u.jsx)("div",{className:"column-content",children:Object(u.jsxs)("div",{className:"column-content-text",children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"fw-bold",children:"Sender:"})," ",e.oneCall.alerts[0].sender_name]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"fw-bold",children:"Start date:"})," ",new Date(1e3*e.oneCall.alerts[0].start).toLocaleString("en-us",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"fw-bold",children:"End date:"})," ",new Date(1e3*e.oneCall.alerts[0].end).toLocaleString("en-us",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:e.oneCall.alerts[0].description})]})})]}):Object(u.jsxs)("div",{className:"column-container",children:[Object(u.jsx)("div",{className:"column-title",children:Object(u.jsx)("h2",{children:"Alerts"})}),Object(u.jsx)("div",{className:"column-content",children:Object(u.jsx)("div",{className:"column-content-text",children:Object(u.jsx)("p",{children:"There are no alerts for the region!"})})})]})})}})},I=function(){return Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("section",{className:"sec-advertisment",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(W,{sidebar:!1,image:"https://s0.2mdn.net/8015881/TELGH9448_Q121_HS_WholeHome_Bundle_Updates_Digital_IAB_728x90_vf.jpg"})})}),Object(u.jsx)("section",{className:"sec-main",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row justify-content-center",children:[Object(u.jsxs)("div",{className:"col content",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(M,{})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(U,{})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(D,{})})]}),Object(u.jsxs)("div",{className:"col-auto sidebar",children:[Object(u.jsx)(W,{sidebar:!0,image:"https://tpc.googlesyndication.com/simgad/3485860487660447482"}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)(F,{})}),Object(u.jsx)(W,{sidebar:!0,image:"https://media.bidr.io/districtm/64/226/2576_buttandco_st-vpat2021_300x250.jpg"})]})]})})})]})},A=function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("p",{className:"text-center",children:["\xa9 2021 The Weather App. Powered by ",Object(u.jsx)("a",{href:"https://openweathermap.org/",target:"_blank",rel:"noreferrer",children:"OpenWeatherMap"})]})})},L=(c(18),function(){return Object(u.jsxs)(y,{children:[Object(u.jsx)(_,{}),Object(u.jsx)(I,{}),Object(u.jsx)(A,{})]})});var T=function(){return Object(u.jsx)(L,{})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};c(19);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root")),P()}},[[20,1,2]]]);
//# sourceMappingURL=main.b0487a81.chunk.js.map